<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <meta name="description" content="Juego de simulaci√≥n de batallas entre Buenos y Malos">
    <meta name="author" content="Survivors Game">
    <title>Survivors - Batalla √âpica</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="game-wrapper">
        <!-- HEADER: T√≠tulo y estad√≠sticas principales -->
        <header class="game-header">
            <h1 class="game-title">‚öîÔ∏è SURVIVORS ‚öîÔ∏è</h1>
            
            <div class="stats-panel" aria-label="Estad√≠sticas de la batalla">
                <div class="stat-item total" role="status" aria-live="polite">
                    <span class="stat-label">Total:</span>
                    <span class="stat-value total" id="totalStats" aria-label="Total de personajes">0</span>
                </div>
                <div class="stat-item buenos" role="status" aria-live="polite">
                    <span class="stat-label">Buenos:</span>
                    <span class="stat-value buenos" id="buenosStats" aria-label="Personajes buenos">0</span>
                </div>
                <div class="stat-item malos" role="status" aria-live="polite">
                    <span class="stat-label">Malos:</span>
                    <span class="stat-value malos" id="malosStats" aria-label="Personajes malos">0</span>
                </div>
            </div>
        </header>

        <!-- MAIN: Contenido principal del juego -->
        <main class="game-main">
            <!-- SECCI√ìN DE CONFIGURACI√ìN (Men√∫ inicial) -->
            <section id="menuPanel" class="menu-section" aria-label="Configuraci√≥n del juego">
                <h2 class="section-title">‚öôÔ∏è CONFIGURACI√ìN DE BATALLA</h2>
                
                <article class="screen-info-card" aria-label="Informaci√≥n de pantalla">
                    <div class="info-display">
                        <div class="screen-info">
                            <span class="info-label">üñ•Ô∏è Tu pantalla:</span>
                            <span class="info-value" id="screenDimensions" aria-label="Dimensiones de tu pantalla">1920x1080</span>
                        </div>
                        <div class="screen-info">
                            <span class="info-label">üìä Tama√±o recomendado:</span>
                            <span class="info-value" id="recommendedDimensions" aria-label="Dimensiones recomendadas">40x20</span>
                        </div>
                    </div>
                </article>

                <article class="config-card" aria-label="Configuraci√≥n del tablero">
                    <h3 class="card-title">üó∫Ô∏è DIMENSIONES DEL TABLERO</h3>
                    
                    <div class="input-group">
                        <div class="input-row">
                            <label for="alturaInput">Altura (filas):</label>
                            <input type="number" id="alturaInput" min="10" max="100" step="2" 
                                   aria-describedby="alturaHelp" aria-label="N√∫mero de filas">
                            <span id="alturaHelp" class="input-hint">par, min 10</span>
                        </div>
                        
                        <div class="input-row">
                            <label for="anchuraInput">Anchura (columnas):</label>
                            <input type="number" id="anchuraInput" min="10" max="100" step="2" 
                                   aria-describedby="anchuraHelp" aria-label="N√∫mero de columnas">
                            <span id="anchuraHelp" class="input-hint">par, min 10</span>
                        </div>
                        
                        <div class="button-row">
                            <button onclick="ajustarDimensionesRecomendadas()" class="btn-reset small-btn" 
                                    aria-label="Usar dimensiones recomendadas">
                                üîÑ Usar recomendado
                            </button>
                        </div>
                    </div>
                </article>

                <article class="config-card" aria-label="Tipo de generaci√≥n">
                    <h3 class="card-title">üé≤ GENERACI√ìN DE PERSONAJES</h3>
                    
                    <div class="options-grid" role="radiogroup" aria-label="Opciones de generaci√≥n">
                        <button onclick="seleccionarOpcion(1)" class="menu-btn option1" id="opcion1Btn" 
                                aria-label="Mitad Buenos y Malos (t√∫ eliges el n√∫mero)">
                            <span class="btn-icon" aria-hidden="true">‚öñÔ∏è</span>
                            <span class="btn-text">Mitad Buenos y Malos</span>
                            <span class="btn-desc">T√∫ eliges el n√∫mero</span>
                        </button>
                        
                        <button onclick="seleccionarOpcion(2)" class="menu-btn option2" id="opcion2Btn"
                                aria-label="Totalmente Aleatorio">
                            <span class="btn-icon" aria-hidden="true">üé≤</span>
                            <span class="btn-text">Totalmente Aleatorio</span>
                            <span class="btn-desc">N√∫mero y distribuci√≥n</span>
                        </button>
                        
                        <button onclick="seleccionarOpcion(3)" class="menu-btn option3" id="opcion3Btn"
                                aria-label="Mitad Aleatoria">
                            <span class="btn-icon" aria-hidden="true">üîÑ</span>
                            <span class="btn-text">Mitad Aleatoria</span>
                            <span class="btn-desc">N√∫mero aleatorio par</span>
                        </button>
                    </div>

                    <!-- Input para n√∫mero de personajes (solo para opci√≥n 1) -->
                    <div id="nPersonajesInput" class="input-row hidden" aria-hidden="true">
                        <label for="numPersonajes">N√∫mero de personajes:</label>
                        <input type="number" id="numPersonajes" value="20" min="2" max="200" step="2"
                               aria-label="N√∫mero total de personajes">
                        <span class="input-hint">m√°x. 200</span>
                    </div>
                </article>

                <div class="action-bar">
                    <button onclick="iniciarSimulacion()" class="btn-start big-btn" id="startBtn" disabled
                            aria-label="Comenzar la batalla">
                        ‚ñ∂ COMENZAR BATALLA
                    </button>
                </div>
            </section>

            <!-- SECCI√ìN DE JUEGO (Tablero) -->
            <section id="tablero" class="game-board-section hidden" aria-label="Tablero de batalla">
                <h2 class="visually-hidden">Tablero de juego</h2>
                <div class="board-container" id="tableroContainer">
                    <!-- El tablero se genera aqu√≠ din√°micamente -->
                </div>
            </section>

            <!-- SECCI√ìN DE RESULTADO -->
            <section id="resultadoPanel" class="result-section hidden" aria-label="Resultado de la batalla">
                <h2 id="resultadoTitulo" class="result-title"></h2>
                
                <div class="resultado-stats" role="status" aria-live="assertive">
                    <div class="stat-item total">
                        <span class="stat-label">Total:</span>
                        <span class="stat-value total" id="resultadoTotal">0</span>
                    </div>
                    <div class="stat-item buenos">
                        <span class="stat-label">Buenos:</span>
                        <span class="stat-value buenos" id="resultadoBuenos">0</span>
                    </div>
                    <div class="stat-item malos">
                        <span class="stat-label">Malos:</span>
                        <span class="stat-value malos" id="resultadoMalos">0</span>
                    </div>
                </div>
                
                <div class="action-bar">
                    <button onclick="volverAlMenu()" class="btn-reset big-btn" aria-label="Volver al men√∫ principal">
                        ‚Ü∫ VOLVER AL MEN√ö
                    </button>
                </div>
            </section>

            <!-- BARRA DE CONTROL (visible durante el juego) -->
            <div id="simulationControls" class="control-bar hidden" role="toolbar" aria-label="Controles de simulaci√≥n">
                <button onclick="detenerSimulacion()" class="btn-stop" aria-label="Detener simulaci√≥n">
                    ‚èπ DETENER
                </button>
                <button onclick="volverAlMenu()" class="btn-reset" aria-label="Reiniciar y volver al men√∫">
                    ‚Ü∫ REINICIAR
                </button>
                <div class="speed-control" role="group" aria-label="Control de velocidad">
                    <button onclick="ajustarVelocidad(-50)" class="btn-speed" aria-label="Disminuir velocidad">‚ö° -</button>
                    <span id="velocidadDisplay" class="speed-display" aria-label="Velocidad actual">150ms</span>
                    <button onclick="ajustarVelocidad(50)" class="btn-speed" aria-label="Aumentar velocidad">‚ö° +</button>
                </div>
            </div>

            <!-- INDICADOR DE TURNO -->
            <div class="turn-indicator" id="turnIndicator" role="presentation" aria-hidden="true"></div>
        </main>

        <!-- FOOTER: Informaci√≥n adicional -->
        <footer class="game-footer">
            <div class="footer-content">
                <span class="footer-text">‚öîÔ∏è Buenos (B) vs Malos (M) | Obst√°culos (#) ‚öîÔ∏è</span>
                <span class="footer-version">v2.0 - Batalla √âpica</span>
            </div>
        </footer>
    </div>

    <!-- Scripts -->
    <script src="Entidades/Entidad.js"></script>
    <script src="Entidades/Personajes.js"></script>
    <script src="Entidades/Buenos.js"></script>
    <script src="Entidades/Malos.js"></script>
    <script src="Entidades/Obstaculos.js"></script>
    <script src="Entidades/ListFunciones/Funciones.js"></script>
    <script src="survivors.js"></script>
</body>
</html>